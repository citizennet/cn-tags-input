"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(){function e(e){_.forOwn(e,function(e,t,n){_.set(n,t,null)})}function t(){var t={};return{on:function(e,n){return e.split(" ").forEach(function(e){t[e]||(t[e]=[]),t[e].push(n)}),this},trigger:function(e,n){return angular.forEach(t[e],function(e){e.call(null,n)}),this},destroy:function(){e(t),t=null}}}function n(e,t,n){return e=e||[],e.length>0&&!angular.isObject(e[0])&&e.forEach(function(i,a){e[a]=_defineProperty({},t,i),n&&(e[a][n]=i)}),e}function i(e,t){return"object"===t.arrayValueType?(e||[]).map(function(e){return _.isObject(e&&e[t.valueProperty])?e[t.valueProperty]:e}):_.pluck(e,t.valueProperty)}function a(e,t,n){var i=null,a=0,s=e.length;if(_.isFunction(n)){var o=n(t);if(!o)return null;for(;a<s;a++)if(o===n(e[a])){i=e[a];break}}else for(;a<s;a++)if(_.has(t,n)&&_.has(e[a],n)&&(angular.toJson(e[a][n])+"").toLowerCase()===(angular.toJson(t[n])+"").toLowerCase()){i=e[a];break}return i}function s(e,t,n){var i=t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return e.replace(new RegExp(i,"gi"),n)}function o(e,t,n){if(!t||!e||!e.length)return!1;if(!_.isArray(t))return angular.equals(t,e[0][n.valueProperty])||angular.equals(t,e[0]);var a=i(e,n);return _.some(a,function(e,i){return angular.equals(t[i],e)||angular.equals(t[i],e[n.valueProperty])})}function r(e,t,n){if(_.isArray(t)){var i=_.filter(e,function(e){return _.find(t,function(t){return l(e,t,n.valueProperty,n.arrayValueType)})});return!n.addFromAutocompleteOnly&&i.length<t.length&&(console.log("UGH",i,t),_.each(t,function(e){_.find(i,function(t){return l(t,e,n.valueProperty,n.arrayValueType)})||i.push(e)})),i}return _.filter(e,function(e){return l(e,t,n.valueProperty,n.arrayValueType)})}function l(e,t,n,i){var a=n?e[n]:e;return"object"===i?u(t,a):t==a}function u(e,t){return angular.isArray(e)?angular.equals(e,t):_.every(e,function(e,n){return"$$hashKey"===n||(angular.isObject(e)?u(e,t[n]):e==t[n])})}function g(e){e.value&&e.setSelectionRange(0,e.value.length)}var c={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,comma:188},p=angular.module("cnTagsInput",[]);p.directive("tagsInput",["$timeout","$document","tagsInputConfig","$sce","$rootScope",function(s,r,l,u,p){function d(t,n){var i,s,o,r={};return i=t.getTagText=function(e){return _.isObject(e)?t.itemFormatter?t.itemFormatter(e):e[t.displayProperty]:e},s=function(e,n){e[t.displayProperty]||(e[t.displayProperty]=n,t.valueProperty&&!_.has(e,t.valueProperty)&&(e[t.valueProperty]=n))},o=function(e){var n=i(e)+"";return(!t.minLength||n.length>=t.minLength)&&(!t.maxLength||n.length<=t.maxLength)&&t.allowedTagsPattern.test(n)&&!a(r.items,e,t.valueProperty||i)},r.items=[],r.addText=function(e){var t={};s(t,e),r.add(t)},r.add=function(e){if(!e.disabled){var a=i(e);return a.trim&&(a=a.trim()),t.replaceSpacesWithDashes&&(a=a.replace(/\s/g,"-")),s(e,a),o(e)?(t.maxTags&&r.items.length>=t.maxTags&&(r.items.pop(),n.trigger("tag-removed",{$tag:e,$event:"tag-removed"})),r.items.push(e),n.trigger("tag-added",{$tag:e,$event:"tag-added"})):n.trigger("invalid-tag",{$tag:e,$event:"invalid-tag"}),e}},r.remove=function(e){var t=r.items.splice(e,1)[0];return n.trigger("tag-removed",{$tag:t,$event:"tag-removed"}),t},r.removeLast=function(){var e,n=r.items.length-1;return t.enableEditingLastTag||r.selected?(r.selected=null,e=r.remove(n)):r.selected||(r.selected=r.items[n]),e},r.removeAll=function(){var e=r.items.splice(0,r.items.length);e.forEach(function(e){n.trigger("tag-removed",{$tag:e,$event:"tag-removed"})})},r.destroy=function(){e(r),r=null},r}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",itemFormatter:"=",ngDisabled:"=",onBeforeTagAdded:"&",onBeforeTagRemoved:"&",onBeforeTagChanged:"&",onTagAdded:"&",onTagRemoved:"&",onTagChanged:"&",onInit:"&",newTag:"=?"},replace:!1,transclude:!0,templateUrl:"cnTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(n,i,a){function s(e){n.events.trigger("input-keydown",e)}l.load("tagsInput",n,i,{placeholder:[String,""],tabindex:[Number],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!1],minLength:[Number,2],maxLength:[Number],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!1],clearOnBlur:[Boolean,!1],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],required:[Boolean,!1],minTags:[Number],maxTags:[Number],displayProperty:[String,"text"],valueProperty:[String],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],tagClass:[String,""],modelType:[String,"array"],arrayValueType:[String,"object"],hideTags:[Boolean,!1],dropdownIcon:[Boolean,!1],tagsStyle:[String,"tags"],allowBulk:[Boolean,!1],bulkDelimiter:[RegExp,/, ?|\n/],bulkPlaceholder:[String,"Enter a list separated by commas or new lines"],showClearAll:[Boolean,!1],showClearCache:[Boolean,!1],showButton:[Boolean,!1]});var o=n.options,r=o.input=a.find("input.input");r.on("keydown",s),n.$on("$destroy",function(){r.off("keydown",s),r=null,e(o),o=null,n.events.destroy(),n.tagList.destroy(),n.processBulk=null}),o.valueProperty||/object|array/.test(o.modelType)&&"object"===o.arrayValueType||(o.valueProperty="value"),n.itemFormatter&&(o.itemFormatter=n.itemFormatter),"tags"===o.tagsStyle&&(o.tagClass=o.tagClass||"label-primary"),!o.allowBulk||"array"===o.modelType&&1!==o.maxTags||(o.allowBulk=!1),n.events=new t,n.tagList=new d(o,n.events),this.registerAutocomplete=function(){return{addTag:function(e){return n.tagList.add(e)},focusInput:function(){r[0].focus()},blurInput:function(){r[0].blur()},getTags:function(){return n.tagList.items},getModel:function(){return n.tags},getOptions:function(){return o},on:function(e,t){return n.events.on(e,t),this},registerProcessBulk:function(e){n.processBulk=function(){e(n.bulkTags).then(function(){n.showBulk=!1,n.bulkTags=""})}},registerSuggestionList:function(e){n.tagList.suggestionList=e}}}}],link:function(e,t,a,l){function p(){}function d(e,t){return function(){var n=arguments;e.apply(this,n),s(function(){t.apply(this,n)})}}function f(t){if(!t.isImmediatePropagationStopped||!t.isImmediatePropagationStopped()){var n,i,a=t.keyCode,s=t.shiftKey||t.altKey||t.ctrlKey||t.metaKey,o={};if(!s&&T.indexOf(a)!==-1)if(o[c.enter]=k.addOnEnter,o[c.comma]=k.addOnComma,o[c.space]=k.addOnSpace,n=!k.addFromAutocompleteOnly&&o[a],i=!n&&a===c.backspace&&0===e.newTag.text.length,n)w.addText(e.newTag.text),e.$apply(),t.preventDefault();else if(i){var r=w.removeLast();r&&k.enableEditingLastTag&&(e.newTag.text=r[k.displayProperty]),e.$apply(),t.preventDefault()}}}function m(n){b=s(function(){if(!L)return!1;var i=r.prop("activeElement"),a=i===L[0],s=t.find(".host")[0].contains(i);!a&&s||(e.hasFocus=!1,x.trigger("input-blur",n))},150)}function h(t){t&&t.preventDefault(),e.ngDisabled||(g(t.target),b&&s.cancel(b),e.hasFocus=!0,x.trigger("input-focus",L.val()),/apply|digest/.test(e.$root.$$phase)||e.$apply())}function v(t){t.keyCode===c.enter&&(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||(t.preventDefault(),e.processBulk()))}function y(e){var t=$(e.target);t.closest(".suggestion").length||t.parent().hasClass("help-block")||(e.preventDefault(),L[0].focus())}e.__tag=new p;var b,T=[c.enter,c.comma,c.space,c.backspace],w=e.tagList,x=e.events,k=e.options,L=t.find("input.input"),P=t.find("textarea"),I=t.find("div");a.inputId&&!l.$name&&(l.$name=a.inputId),x.on("tag-added",d(e.onBeforeTagAdded,e.onTagAdded)).on("tag-removed",d(e.onBeforeTagRemoved,e.onTagRemoved)).on("tag-changed",d(e.onBeforeTagChanged,e.onTagChanged)).on("tag-init",e.onInit).on("tag-added tag-removed",function(t){!k.maxTags||k.maxTags>e.tagList.items.length?g(k.input[0]):e.newTag.text="","array"===k.modelType?k.valueProperty?e.tags=i(e.tagList.items,k):e.tags=e.tagList.items:"tag-removed"===t.$event?e.tags=void 0:k.valueProperty?e.tags=_.has(t.$tag,k.valueProperty)?t.$tag[k.valueProperty]:t.$tag[k.displayProperty]:e.tags=t.$tag}).on("invalid-tag",function(){e.newTag.invalid=!0}).on("input-change",function(){w.selected=null,e.newTag.invalid=null}).on("input-focus",function(){l.$setValidity("leftoverText",!0)}).on("input-blur",function(){k.addFromAutocompleteOnly||k.addOnBlur&&e.newTag.text&&w.addText(e.newTag.text),k.clearOnBlur&&(e.newTag.text="",e.newTag.invalid=null)}),e.newTag={text:"",invalid:null},e.getDisplayText=e.itemFormatter||function(e){return e&&((e[k.displayProperty]||"undefined")+"").trim()},e.getDisplayHtml=function(t){return u.trustAsHtml(e.getDisplayText(t))},e.track=function(e){return e[k.displayProperty]},e.newTagChange=function(){x.trigger("input-change",e.newTag.text)},e.processBulk=e.processBulk||function(){var t=e.bulkTags.split(k.bulkDelimiter);_.each(t,function(t){var n={};n[k.displayProperty]=t,e.tagList.add(n)}),e.showBulk=!1,e.bulkTags=""};var B=!0;e.triggerInit=function(e,t){var n=k.valueProperty?_defineProperty({},k.valueProperty,e):e;w.items.length&&_.find(w.items,n)||x.trigger("tag-init",{$tag:e,$prev:t,$event:"tag-init",$setter:function(e){if(e&&!_.isObject(e)){var t;w.items=[(t={},_defineProperty(t,k.displayProperty,e),_defineProperty(t,k.valueProperty,e),t)]}else w.items=_.isArray(e)?e:[e];return w.items}})},e.$watch("tags",function(t,a){var s=!angular.equals(t,a),r=!s&&B;if(r&&e.triggerInit(t,a),s&&x.trigger("tag-changed",{$tag:t,$prev:a,$event:"tag-changed"}),"array"===k.modelType){if(_.isArray(t)){if(t.length){if(o(w.items,e.tags,k)||e.triggerInit(t,a),!o(w.items,e.tags,k)||w.items.length!==e.tags.length)return w.items=n(t,k.displayProperty,k.valueProperty),void(e.tags=i(w.items,k))}else if(w.items=[],angular.isUndefined(a))return}else if(void 0===t)return w.items=[],void(e.tags=[])}else if(angular.isDefined(t))if(_.isArray(t)){if(t.length)return void(k.valueProperty?e.tags=t[0][k.valueProperty]:e.tags=t[0]);e.tags=void 0}else if("object"===k.modelType)null!==t&&(w.items=[t]);else{if(_.isObject(t)){w.items=[t];var u=t[k.valueProperty];return _.isUndefined(u)&&(u=t[k.displayProperty]),void(e.tags=u)}_.isUndefined(t)||w.items.length&&w.items[0][k.valueProperty]===t||e.triggerInit(t,a)}else!t&&w.items.length&&(w.items=[]);!r&&s&&l.$setDirty(),l.$setValidity("schemaForm",!0),"array"===k.modelType?(l.$setValidity("tv4-401",!t||!k.maxTags||t.length<=k.maxTags),l.$setValidity("tv4-302",!!t&&(!angular.isDefined(k.minTags)||t.length>=k.minTags))):l.$setValidity("tv4-302",!k.required||!angular.isUndefined(t)),B=!1},!0);var S=s(function(){L.on("keydown",f).on("focus",h).on("blur",m)});P.on("keydown",v),I.on("click",y),e.$on("$destroy",function(){L.off("keydown",f).off("focus",h).off("blur",m),P.off("keydown",v),I.off("click",y),L=null,P=null,I=null,x.destroy(),x=null,B=null,T=null,k=null,w=null,s.cancel(S)})}}}]),p.directive("autoComplete",["$document","$timeout","$filter","$sce","tagsInputConfig","$parse","Api","$q",function(t,i,o,l,u,g,p,d){function f(e,t){var s,r,l,u,c,p,f,m={};return u=function(e,t){var n,i={},a=[],s=0;return _.each(e,function(e){n=g(t)(e),_.isArray(n)||(n=[n]),_.each(n,function(t){i[t]||(i[t]=[]),i[t].push(e)})}),_.each(i,function(e){e.indexes=[],_.each(e,function(t){e.indexes.push(s++),a.push(t)})}),{groups:i,map:a}},p=function(e,t){return t?(_.isArray(t)||(t=[t,{}]),g(t[0])((t[1].val=e)&&t[1])):e},c=function(n){function i(e,n,i,a){var s=_.isObject(n)?n[a||t.tagsInput.displayProperty]:n,o={text:p(s,i.formatter),value:s,key:e,childKey:a};_.find(i.items,o)||i.items.push(o)}var a=[];return _.each(e.searchKeys,function(e){var t=e.key;e.items=[],_.each(n,function(n){n[t]&&(_.isArray(n[t])?_.each(n[t],function(n){i(t,n,e,e.childKey)}):i(t,n[t],e,e.childKey))}),a.push(e)}),a},f=function(e){var t=[],n=0;return _.each(e,function(e){e.indexes=[],_.each(e.items,function(i){e.indexes.push(n++),t.push(i)})}),t},r=function(e,n){return n.length?e.filter(function(e){return!a(n,e,t.tagsInput.valueProperty||t.tagsInput.getTagText)}):e.filter(function(e){return""!==e[t.tagsInput.displayProperty]})},m.reset=function(){l=null,m.items=[],m.visible=!1,m.index=-1,m.selected=null,m.query=null,i.cancel(s)},m.show=function(){m.selected=null,m.visible=!0,m.select(0)},m.load=function(a,g){if(a.length<t.minLength)return void m.reset();var p,d,h=a,v=function(i){p&&p!==l||(e.searchKeys&&(e.isGroups=!0,i=c(i)),_.isObject(i)&&!_.isArray(i)&&(e.isGroups=!0,i=_.map(i,function(e,t){return{items:e,label:t}})),e.isGroups?(_.each(i,function(e){e.items=r(e.items,g),a&&(e.items=o("cnFilter")(e.items,h)),e.items=e.items.slice(0,t.maxResultsToShow)}),m.itemMap=f(i)):(i=n(i.data||i,t.tagsInput.displayProperty),i=r(i,g),a&&!t.skipFiltering&&(i=o("cnFilter")(i,h)),i=i.slice(0,t.maxResultsToShow),t.groupBy&&(d=u(i,t.groupBy),i=d.groups,m.itemMap=d.map)),m.items=i,m.show())};i.cancel(s),m.query=a,s=i(function(){m._load(a,p).then(v)},t.minLength?t.debounceDelay:0,!1)},m.clearCache=function(t,n){t.preventDefault(),e._source&&(e.source=e._source);var i=e.source;i({$query:n,options:{refreshData:!0}}).then(function(t){e._source=i,e.source=function(){return t},e.tagsInput.focusInput()})},m._load=function(n,a){var s=d.defer(),o=e.source({$query:n});if(_.isArray(o))i(function(){s.resolve(o||[])});else{if(t.minLength)return a=o,l=a,a;var r=e.source;o.then(function(t){e._source=r,e.source=function(){return t},s.resolve(t||[])})}return s.promise},m.selectNext=function(){m.select(++m.index)},m.selectPrior=function(){m.select(--m.index)},m.select=function(e){var t=m.itemMap||m.items;e<0?e=t.length-1:e>=t.length&&(e=0),m.index=e,m.itemMap?m.selected=m.itemMap[e]:m.selected=m.items[e]},m}return{restrict:"E",require:"^tagsInput",scope:{source:"&",searchKeys:"=?"},templateUrl:function(e,t){return t.customTemplateUrl||"cnTagsInput/auto-complete.html"},link:function(n,i,a,g){function d(){}var m,h,v,y,b,T=[c.enter,c.tab,c.escape,c.up,c.down];n.__tag=new d,u.load("autoComplete",n,a,{debounceDelay:[Number,250],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,75],groupBy:[String,""],skipFiltering:[Boolean,!1]}),v=n.options,h=g.registerAutocomplete(),n.tagsInput=h,v.tagsInput=h.getOptions(),0===v.minLength?(v.tagsInput.dropdownIcon=!0,1===v.tagsInput.maxTags?v.tagsInput.dropdownStyle="caret":v.tagsInput.dropdownStyle="fa fa-plus"):v.tagsInput.dropdownStyle="fa fa-search",m=new f(n,v),h.registerSuggestionList(m),y=v.tagsInput.itemFormatter||function(e){return String(e[v.tagsInput.displayProperty])},n.suggestionList=m;var w=h.getModel();0===v.minLength&&w&&!angular.equals(w,[])&&m._load().then(function(e){var t=r(e,w,v.tagsInput),n=h.getTags();angular.equals(t,n)||(n.length=0,t.forEach(function(e){h.addTag(e)}))}),n.addSuggestion=function(e){e.preventDefault();var t=!1;if(m.selected){if(h.addTag(angular.copy(m.selected)),!v.tagsInput.maxTags||h.getTags().length<v.tagsInput.maxTags){var n=m.items.indexOf(m.selected);m.items.splice(n,1),m.select(n),h.focusInput()}else m.reset(),h.blurInput();t=!0}return t},n.highlight=function(e,t){var n=y(e,t);return m.query&&v.highlightMatchedText&&(n=_(n.match(/(\<[^>]*>|[^<]*)/g)).map(function(e){return e.length&&"<"!==e[0]?s(e,m.query,"<b>$&</b>"):e}).join("")),l.trustAsHtml("<a>"+n+"</a>")},n.track=function(e,t){return y(e,t)},n.noResultsMessage=function(e){var t=(e.visible,e.query);return t?l.trustAsHtml("No results for <b>"+t+"</b>..."):"No options..."},h.registerProcessBulk(function(e){var t=e.split(v.tagsInput.bulkDelimiter),i=function(e){return function(t){_.times(e,function(e){t[e]&&h.addTag(t[e])})}};return p.batch(function(){for(var e=0,a=t.length;e<a&&!(v.tagsInput.maxTags&&h.getTags().length>=v.tagsInput.maxTags);e++){var s=t[e],r=1,l=t[e].match(/(.*) ?\[(\d+)\]$/);l&&(s=l[1],r=parseInt(l[2]));var u=n.source({$query:s});if(_.isArray(u)){if(u.length){if(!v.skipFiltering){var g=s;u=o("cnFilter")(u,g)}i(r)(u)}else if(!v.tagsInput.addFromAutocompleteOnly){var c;h.addTag((c={},_defineProperty(c,v.tagsInput.displayProperty,s),_defineProperty(c,v.tagsInput.valueProperty,s),c))}}else u.then&&u.then(i(r))}})}),h.on("input-change",function(e){e||!v.minLength?m.load(e,h.getTags()):m.reset()}).on("input-focus",function(e){m.visible||v.minLength||m.load(e,h.getTags())}).on("input-keydown",function(e){var t,i;if(T.indexOf(e.keyCode)!==-1){var a=!1;e.stopImmediatePropagation=function(){a=!0,e.stopPropagation()},e.isImmediatePropagationStopped=function(){return a},m.visible&&(t=e.keyCode,i=!1,t===c.down?(m.selectNext(),i=!0):t===c.up?(m.selectPrior(),i=!0):t===c.escape?(m.reset(),i=!0):t===c.enter&&(i=n.addSuggestion(e)),i&&(e.preventDefault(),e.stopImmediatePropagation(),n.$apply()))}}).on("input-blur",function(e){m.reset()}),b=function(e){e.isDefaultPrevented()||m.visible&&(!$(e.target).closest(".suggestion").length&&$(e.target).closest(i[0]).length||"blur"===e.type&&!/^(input|select|textarea|button|a)$/i.test(e.target.tagName)||(m.reset(),/apply|digest/.test(n.$root.$$phase)||n.$apply()))},t.on("click",b).on("blur",b),n.$on("$destroy",function(){t.off("click",b).off("blur",b),e(h),h=null,e(v),v=null})}}}]),p.directive("tiTranscludeAppend",function(){return function(e,t,n,i,a){a(function(e){t.append(e)})}}),p.directive("tiAutosize",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var a,s,o=3;a=angular.element('<span class="input"></span>'),a.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),t.parent().append(a),s=function(e){var i,s=e;return angular.isString(s)&&0===s.length&&(s=n.placeholder),s&&(a.text(s),a.css("display",""),i=a.prop("offsetWidth"),a.css("display","none")),t.css("width",i?i+o+"px":""),e},i.$parsers.unshift(s),i.$formatters.unshift(s),n.$observe("placeholder",function(e){i.$modelValue||s(e)})}}}),p.provider("tagsInputConfig",function(){var e={},t={};this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.$get=["$interpolate",function(n){var i={};return i[String]=function(e){return e},i[Number]=function(e){return parseInt(e,10)},i[Boolean]=function(e){return"true"===e.toLowerCase()},i[RegExp]=function(e){return new RegExp(e)},i[Object]=function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))?e:Object(e)},{load:function(a,s,o,r){s.options={},s.attrs=o,s.uid=_.uniqueId(),angular.forEach(r,function(r,l){var u,g,c,p,d;u=r[0],g=r[1],c=i[u],p=function(){var t=e[a]&&e[a][l];return angular.isDefined(t)?t:g},d=function(e){s.options[l]=e?c(e):p()},s[l]?d(s[l]):t[a]&&t[a][l]?o.$observe(l,function(e){d(e)}):d(o[l]&&n(o[l])(s.$parent))})}}}]}),p.run(["$templateCache",function(e){e.put("cnTagsInput/tags-input.html",'\n        <ul class="list-group cn-autocomplete-list"\n            ng-if="options.tagsStyle === \'list\' && tagList.items.length && !options.hideTags">\n          <li class="list-group-item {{options.tagClass}}"\n              ng-repeat="tag in tagList.items"\n              ng-class="{ selected: tag == tagList.selected }">\n            <button ng-if="!ngDisabled"\n                    ng-click="tagList.remove($index)"\n                    type="button" class="close pull-right">\n              <span>&times;</span>\n            </button>\n            <span class="tag-item" ng-bind-html="getDisplayHtml(tag)"/>\n          </li>\n        </ul>\n        <div class="host clearfix"\n             ng-hide="showBulk"\n             ti-transclude-append="">\n          <!-- hack to avoid browser\'s autocomplete -->\n          <input class="offscreen"\n                 id="fake-{{attrs.id && attrs.id}}-input"\n                 name="fake-{{attrs.id && attrs.id}}-input">\n          <!-- end hack to avoid browser\'s autocomplete -->\n          <div class="input form-control tags"\n               ng-class="{focused: hasFocus}"\n               ng-disabled="ngDisabled">\n            <input class="input"\n                   ng-disabled="ngDisabled"\n                   id="{{attrs.inputId || attrs.id && attrs.id + \'-input-\' + uid}}"\n                   name="{{attrs.inputId || attrs.id && attrs.id + \'-input-\' + uid}}"\n                   placeholder="{{options.placeholder}}"\n                   tabindex="{{options.tabindex}}"\n                   ng-model="newTag.text"\n                   ng-model-options="{updateOn: \'default\'}"\n                   ng-change="newTagChange()"\n                   ng-trim="false"\n                   ng-class="{\n                      \'invalid-tag\': newTag.invalid,\n                      \'hide-below\': options.maxTags === 1 && tagList.items.length\n                   }"\n                   ti-autosize=""\n                   autocomplete="off">\n            <span class="tag-item label {{options.tagClass}} label-block"\n                  ng-if="options.tagsStyle !== \'list\' && !options.hideTags && options.maxTags === 1 && tagList.items.length"\n                  title="{{getDisplayText(tagList.items[0])}}">\n              <span ng-bind-html="getDisplayHtml(tagList.items[0])"/>\n              <a class="remove-button"\n                 ng-if="!ngDisabled && !options.dropdownIcon"\n                 ng-click="tagList.remove()">\n                <span>&times;</span>\n              </a>\n            </span>\n            <ul class="tag-list"\n                ng-if="options.tagsStyle !== \'list\' && !options.hideTags && options.maxTags !== 1">\n              <li class="tag-item label {{options.tagClass}}"\n                  ng-repeat="tag in tagList.items"\n                  ng-class="{ selected: tag == tagList.selected }">\n                <span ng-bind-html="getDisplayHtml(tag)"/>\n                <a class="remove-button"\n                   ng-if="!ngDisabled"\n                   ng-click="tagList.remove($index)">\n                  <span>&times;</span>\n                </a>\n              </li>\n            </ul>\n            <button ng-if="options.showButton && options.dropdownIcon"\n                    class="btn form-control-icon" ng-disabled="ngDisabled" tabindex="-1">\n              <i class="{{options.dropdownStyle}}"></i>\n            </button>\n          </div>\n        </div>\n        <div class="help-block">\n          <button\n            class="btn btn-default btn-xs"\n            ng-show="options.allowBulk && !showBulk"\n            ng-click="showBulk = true"\n          > Batch\n          </button>\n          <button\n            class="btn btn-default btn-xs"\n            ng-show="options.showClearAll && tagList.items.length"\n            ng-click="tagList.removeAll()"\n          > Clear\n          </button>\n          <button\n            class="btn btn-default btn-xs"\n            ng-show="options.showClearCache && tagList.suggestionList"\n            ng-click="tagList.suggestionList.clearCache($event, newTag.text)"\n          > <i class="fa fa-repeat"/> Update Data\n          </button>\n        </div>\n        <div ng-show="showBulk" class="clearfix">\n          <textarea class="form-control" ng-model="bulkTags" ng-model-options="{\'updateOn\': \'input\'}" placeholder="{{options.bulkPlaceholder}}"></textarea>\n          <p class="help-block">\n            Press "Enter" to submit, "Shift+Enter" to add a new line\n          </p>\n          <p class="help-block">\n            Add multiple with brackets, eg. "citizennet[10]"\n          </p>\n          <div class="btn-group help-block">\n            <button class="btn btn-default btn-xs" ng-click="showBulk = false">Cancel</button>\n          </div>\n        </div>'),e.put("cnTagsInput/auto-complete.html",'\n        <div ng-if="!suggestionList.items.length && !options.groupBy"\n             ng-class="{open: suggestionList.visible}">\n          <ul class="autocomplete dropdown-menu">\n            <li class="dropdown-header" ng-bind-html="suggestionList.visible && noResultsMessage(suggestionList)"></li>\n          </ul>\n        </div>\n        <div ng-if="suggestionList.items.length && isGroups"\n             ng-class="{open: suggestionList.visible}">\n          <ul class="autocomplete dropdown-menu">\n            <li ng-if="!suggestionList.items[0].items.length && !suggestionList.items[1].items.length" class="dropdown-header">No results...</li>\n            <li ng-repeat-start="group in suggestionList.items"></li>\n            <li class="dropdown-header" ng-show="group.items.length">{{group.label | titleCase}}</li>\n            <li ng-repeat="item in group.items"\n                class="suggestion"\n                ng-class="{selected: item == suggestionList.selected, disabled: item.disabled}"\n                ng-click="addSuggestion($event)"\n                ng-mouseenter="suggestionList.select(group.indexes[$index])"\n                ng-bind-html="highlight(item, group.label)">\n            </li>\n            <li class="divider" ng-show="!$last && $parent.suggestionList.items[$index+1].items.length"></li>\n            <li ng-repeat-end></li>\n          </ul>\n        </div>\n        <div ng-if="suggestionList.items.length && !isGroups && !options.groupBy"\n             ng-class="{open: suggestionList.visible}">\n          <ul class="autocomplete dropdown-menu">\n            <li ng-repeat="item in suggestionList.items"\n                class="suggestion"\n                ng-class="{selected: item == suggestionList.selected, disabled: item.disabled}"\n                ng-click="addSuggestion($event)"\n                ng-mouseenter="suggestionList.select($index)"\n                ng-bind-html="highlight(item)">\n            </li>\n          </ul>\n        </div>\n        <div ng-if="!isGroups && options.groupBy"\n             ng-class="{open: suggestionList.visible}">\n          <ul class="autocomplete dropdown-menu">\n            <li ng-repeat-start="(group, items) in suggestionList.items"></li>\n            <li class="dropdown-header" ng-show="items.length">{{group | titleCase}}</li>\n            <li ng-repeat="item in items"\n                class="suggestion"\n                ng-class="{selected: item == suggestionList.selected, disabled: item.disabled}"\n                ng-click="addSuggestion($event)"\n                ng-mouseenter="suggestionList.select(suggestionList.items[group].indexes[$index])"\n                ng-bind-html="highlight(item)">\n            </li>\n            <li class="divider" ng-show="!$last && items.length"></li>\n            <li ng-repeat-end></li>\n          </ul>\n        </div>')}])}();
//# sourceMappingURL=all.min.js.map
