!function(){"use strict";function t(){var t={};return{on:function(e,n){return e.split(" ").forEach(function(e){t[e]||(t[e]=[]),t[e].push(n)}),this},trigger:function(e,n){return angular.forEach(t[e],function(t){t.call(null,n)}),this}}}function e(t,e,n){return t=t||[],t.length>0&&!angular.isObject(t[0])&&t.forEach(function(i,a){t[a]={},t[a][e]=i,n&&(t[a][n]=i)}),t}function n(t,e,n){var i=null,a=0,s=t.length;if(_.isFunction(n)){var o=n(e);if(!o)return null;for(;s>a;a++)if(o===n(t[a])){i=t[a];break}}else for(;s>a;a++)if(_.has(e,n)&&_.has(t[a],n)&&(angular.toJson(t[a][n])+"").toLowerCase()===(angular.toJson(e[n])+"").toLowerCase()){i=t[a];break}return i}function i(t,e,n){var i=e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return t.replace(new RegExp(i,"gi"),n)}function a(t,e,n){for(var i=!0,a=0,s=t.length;s>a;a++)if(!angular.equals(t[a][n],e[a])){i=!1;break}return i}function s(t){t.value&&t.setSelectionRange(0,t.value.length)}var o={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,comma:188},r=angular.module("cnTagsInput",[]);r.directive("tagsInput",["$timeout","$document","tagsInputConfig","$sce","$compile",function(i,r,l,u,g){function c(t,e){var i,a,s,o={};return i=t.getTagText=function(e){return _.isObject(e)?t.itemFormatter?t.itemFormatter(e):e[t.displayProperty]:e},a=function(e,n){e[t.displayProperty]||(e[t.displayProperty]=n,_.has(e,t.valueProperty)||(e[t.valueProperty]=n))},s=function(e){var a=i(e)+"";return(!t.minLength||a.length>=t.minLength)&&(!t.maxLength||a.length<=t.maxLength)&&t.allowedTagsPattern.test(a)&&!n(o.items,e,_.has(e,t.valueProperty)?t.valueProperty:i)},o.items=[],o.addText=function(t){var e={};return a(e,t),o.add(e)},o.add=function(n){if(!n.disabled){var r=i(n);return r.trim&&(r=r.trim()),t.replaceSpacesWithDashes&&(r=r.replace(/\s/g,"-")),a(n,r),s(n)?(t.maxTags&&o.items.length>=t.maxTags&&(o.items.pop(),e.trigger("tag-removed",{$tag:n,$event:"tag-removed"})),o.items.push(n),e.trigger("tag-added",{$tag:n,$event:"tag-added"})):e.trigger("invalid-tag",{$tag:n,$event:"invalid-tag"}),n}},o.remove=function(t){var n=o.items.splice(t,1)[0];return e.trigger("tag-removed",{$tag:n,$event:"tag-removed"}),n},o.removeLast=function(){var e,n=o.items.length-1;return t.enableEditingLastTag||o.selected?(o.selected=null,e=o.remove(n)):o.selected||(o.selected=o.items[n]),e},o}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",itemFormatter:"=",ngDisabled:"=",onBeforeTagAdded:"&",onBeforeTagRemoved:"&",onBeforeTagChanged:"&",onTagAdded:"&",onTagRemoved:"&",onTagChanged:"&",onInit:"&",newTag:"=?"},replace:!1,transclude:!0,templateUrl:"cnTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,n,i){l.load("tagsInput",e,n,{placeholder:[String,"Add a tag"],tabindex:[Number],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!1],minLength:[Number,2],maxLength:[Number],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!1],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],required:[Boolean,!1],minTags:[Number],maxTags:[Number],displayProperty:[String,"text"],valueProperty:[String,"value"],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],tagClass:[String,""],modelType:[String,"array"],arrayValueType:[String,"object"],hideTags:[Boolean,!1],dropdown:[Boolean,!1],tagsStyle:[String,"tags"],allowBulk:[Boolean,!1],bulkDelimiter:[RegExp,/, ?|\n/],bulkPlaceholder:[String,"Enter a list separated by commas or new lines"],showButton:[Boolean,!1]}),e.itemFormatter&&(e.options.itemFormatter=e.itemFormatter),"tags"===e.options.tagsStyle&&(e.options.tagClass=e.options.tagClass||"label-primary"),!e.options.allowBulk||"array"===e.options.modelType&&1!==e.options.maxTags||(e.options.allowBulk=!1),e.events=new t,e.tagList=new c(e.options,e.events),this.registerAutocomplete=function(){var t=i.find("input.input");return t.on("keydown",function(t){e.events.trigger("input-keydown",t)}),{addTag:function(t){return e.tagList.add(t)},focusInput:function(){t[0].focus()},blurInput:function(){t[0].blur()},getTags:function(){return"array"===e.options.modelType?e.tagList.items:e.tagList.items?[e.tagList.items]:[]},getOptions:function(){return e.options},on:function(t,n){return e.events.on(t,n),this},registerProcessBulk:function(t){e.processBulk=function(){t(e.bulkTags).then(function(){e.showBulk=!1,e.bulkTags=""})}}}}}],link:function(t,n,l,g){function c(t,e){return function(){var n=arguments;t.apply(this,n),i(function(){e.apply(this,n)})}}function p(e){e&&e.preventDefault(),t.ngDisabled||(s(e.target),d&&i.cancel(d),t.hasFocus=!0,h.trigger("input-focus",y.val()),/apply|digest/.test(t.$root.$$phase)||t.$apply())}var d,m=[o.enter,o.comma,o.space,o.backspace],f=t.tagList,h=t.events,v=t.options,y=n.find("input.input");l.inputId&&!g.$name&&(g.$name=l.inputId),h.on("tag-added",c(t.onBeforeTagAdded,t.onTagAdded)).on("tag-removed",c(t.onBeforeTagRemoved,t.onTagRemoved)).on("tag-changed",c(t.onBeforeTagChanged,t.onTagChanged)).on("tag-init",t.onInit).on("tag-added tag-removed",function(e){"array"===v.modelType?"object"===v.arrayValueType?t.tags=t.tagList.items:t.tags=_.pluck(t.tagList.items,v.valueProperty):"tag-removed"===e.$event?t.tags=void 0:"object"===v.modelType?t.tags=e.$tag:t.tags=_.has(e.$tag,v.valueProperty)?e.$tag[v.valueProperty]:e.$tag[v.displayProperty]}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("input-change",function(){f.selected=null,t.newTag.invalid=null}).on("input-focus",function(){g.$setValidity("leftoverText",!0)}).on("input-blur",function(){v.addFromAutocompleteOnly||(v.addOnBlur&&t.newTag.text&&f.addText(t.newTag.text),g.$setValidity("leftoverText",v.allowLeftoverText?!0:!t.newTag.text))}),t.newTag={text:"",invalid:null},t.getDisplayText=t.itemFormatter||function(t){return t&&((t[v.displayProperty]||"undefined")+"").trim()},t.getDisplayHtml=function(e){return u.trustAsHtml(t.getDisplayText(e))},t.track=function(t){return t[v.displayProperty]},t.newTagChange=function(){h.trigger("input-change",t.newTag.text)},t.processBulk=t.processBulk||function(){var e=t.bulkTags.split(v.bulkDelimiter);_.each(e,function(e){var n={};n[v.displayProperty]=e,t.tagList.add(n)}),t.showBulk=!1,t.bulkTags=""};var b=!0;t.triggerInit=function(t,e){var n={};n[v.valueProperty]=t,f.items.length&&_.find(f.items,n)||h.trigger("tag-init",{$tag:t,$prev:e,$event:"tag-init",$setter:function(t){if(t&&!_.isObject(t)){var e={};e[v.displayProperty]=t,e[v.valueProperty]=t,f.items=[e]}else f.items=_.isArray(t)?t:[t];return f.items}})},t.$watch("tags",function(n,i){var s=!angular.equals(n,i),o=!s&&b;if(o&&t.triggerInit(n,i),s&&h.trigger("tag-changed",{$tag:n,$prev:i,$event:"tag-changed"}),"array"===v.modelType){if(_.isArray(n)){if(n.length){var r=a(f.items,t.tags,v.valueProperty);if(r||t.triggerInit(n,i),(!r||f.items.length!==t.tags.length)&&(f.items=e(n,v.displayProperty,v.valueProperty),"object"!==v.arrayValueType))return void(t.tags=_.pluck(f.items,v.valueProperty))}else if(f.items=[],angular.isUndefined(i))return}else if(void 0===n)return f.items=[],void(t.tags=[])}else if(angular.isDefined(n))if(_.isArray(n)){if(n.length)return void("object"===v.modelType?t.tags=n[0]:t.tags=n[0][v.valueProperty]);t.tags=void 0}else if("object"===v.modelType)f.items=[n];else{if(_.isObject(n)){f.items=[n];var l=n[v.valueProperty];return l||(l=n[v.displayProperty]),void(t.tags=l)}n&&!f.items.length&&t.triggerInit(n,i)}else!n&&f.items.length&&(f.items=[]);!o&&s&&g.$setDirty(),g.$setValidity("schemaForm",!0),"array"===v.modelType?(g.$setValidity("tv4-401",n&&v.maxTags?n.length<=v.maxTags:!0),g.$setValidity("tv4-302",n?angular.isDefined(v.minTags)?n.length>=v.minTags:!0:!1)):g.$setValidity("tv4-302",!v.required||!angular.isUndefined(n)),b=!1},!0),y.on("keydown",function(e){if(!e.isImmediatePropagationStopped||!e.isImmediatePropagationStopped()){var n,i,a=e.keyCode,s=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,r={};if(!s&&-1!==m.indexOf(a))if(r[o.enter]=v.addOnEnter,r[o.comma]=v.addOnComma,r[o.space]=v.addOnSpace,n=!v.addFromAutocompleteOnly&&r[a],i=!n&&a===o.backspace&&0===t.newTag.text.length,n)f.addText(t.newTag.text),t.$apply(),e.preventDefault();else if(i){var l=f.removeLast();l&&v.enableEditingLastTag&&(t.newTag.text=l[v.displayProperty]),t.$apply(),e.preventDefault()}}}).on("focus",p).on("blur",function(e){d=i(function(){var i=r.prop("activeElement"),a=i===y[0],s=n[0].contains(i);(a||!s)&&(t.hasFocus=!1,h.trigger("input-blur",e))},150)}),n.find("textarea").on("keydown",function(e){e.altKey||e.ctrlKey||e.metaKey||e.keyCode!==o.enter||(e.preventDefault(),t.processBulk())}),n.find("div").on("click",function(t){$(t.target).closest(".suggestion").length||(t.preventDefault(),y[0].focus())})}}}]),r.directive("autoComplete",["$document","$timeout","$filter","$sce","tagsInputConfig","$parse","Api",function(t,a,r,l,u,g,c){function p(t,i){var s,o,l,u,c,p,d,m={};return u=function(t,e){var n,i={},a=[],s=0;return _.each(t,function(t){n=g(e)(t),_.isArray(n)||(n=[n]),_.each(n,function(e){i[e]||(i[e]=[]),i[e].push(t)})}),_.each(i,function(t){t.indexes=[],_.each(t,function(e){t.indexes.push(s++),a.push(e)})}),{groups:i,map:a}},p=function(t,e){return e?(_.isArray(e)||(e=[e,{}]),g(e[0])((e[1].val=t)&&e[1])):t},c=function(e){function n(t,e,n,a){var s=_.isObject(e)?e[a||i.tagsInput.displayProperty]:e,o={text:p(s,n.formatter),value:s,key:t,childKey:a};_.find(n.items,o)||n.items.push(o)}var a=[];return _.each(t.searchKeys,function(t){var i=t.key;t.items=[],_.each(e,function(e){e[i]&&(_.isArray(e[i])?_.each(e[i],function(e){n(i,e,t,t.childKey)}):n(i,e[i],t,t.childKey))}),a.push(t)}),a},d=function(t){var e=[],n=0;return _.each(t,function(t){t.indexes=[],_.each(t.items,function(i){t.indexes.push(n++),e.push(i)})}),e},o=function(t,e){return e.length?t.filter(function(t){return!n(e,t,_.has(t,i.tagsInput.valueProperty)?i.tagsInput.valueProperty:i.tagsInput.getTagText)}):t.filter(function(t){return""!==t[i.tagsInput.displayProperty]})},m.reset=function(){l=null,m.items=[],m.visible=!1,m.index=-1,m.selected=null,m.query=null,a.cancel(s)},m.show=function(){m.selected=null,m.visible=!0,m.select(0)},m.load=function(n,g){if(n.length<i.minLength)return void m.reset();var p,f,h=n,v=function(a){p&&p!==l||(t.searchKeys&&(t.isGroups=!0,a=c(a)),_.isObject(a)&&!_.isArray(a)&&(t.isGroups=!0,a=_.map(a,function(t,e){return{items:t,label:e}})),t.isGroups?(_.each(a,function(t){t.items=o(t.items,g),n&&(t.items=r("cnFilter")(t.items,h)),t.items=t.items.slice(0,i.maxResultsToShow)}),m.itemMap=d(a)):(a=e(a.data||a,i.tagsInput.displayProperty),a=o(a,g),n&&!i.skipFiltering&&(a=r("cnFilter")(a,h)),a=a.slice(0,i.maxResultsToShow),i.groupBy&&(f=u(a,i.groupBy),a=f.groups,m.itemMap=f.map)),m.items=a,_.isEmpty(m.items)?m.reset():m.show())};a.cancel(s),m.query=n,s=a(function(){var e=t.source({$query:n});_.isArray(e)?a(function(){v(e||[])}):i.minLength?(p=e,l=p,p.then(v)):e.then(function(e){t.source=function(){return e},v(e||[])})},i.minLength?i.debounceDelay:0,!1)},m.selectNext=function(){m.select(++m.index)},m.selectPrior=function(){m.select(--m.index)},m.select=function(t){var e=m.itemMap||m.items;0>t?t=e.length-1:t>=e.length&&(t=0),m.index=t,m.itemMap?m.selected=m.itemMap[t]:m.selected=m.items[t]},m}return{restrict:"E",require:"^tagsInput",scope:{source:"&",searchKeys:"=?"},templateUrl:function(t,e){return e.customTemplateUrl||"cnTagsInput/auto-complete.html"},link:function(e,n,a,g){var d,m,f,h,v,y=[o.enter,o.tab,o.escape,o.up,o.down];u.load("autoComplete",e,a,{debounceDelay:[Number,1e3],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,75],groupBy:[String,""],skipFiltering:[Boolean,!1]}),f=e.options,m=g.registerAutocomplete(),f.tagsInput=m.getOptions(),0===f.minLength?(f.tagsInput.dropdown=!0,1===f.tagsInput.maxTags?f.tagsInput.dropdownStyle="caret":f.tagsInput.dropdownStyle="fa fa-plus"):f.tagsInput.dropdownStyle="fa fa-search",d=new p(e,f),h=f.tagsInput.itemFormatter||function(t){return String(t[f.tagsInput.displayProperty])},e.suggestionList=d,e.addSuggestion=function(t){t.preventDefault(),s(t.target);var e=!1;if(d.selected){if(m.addTag(d.selected),!f.tagsInput.maxTags||m.getTags().length<f.tagsInput.maxTags){var n=d.items.indexOf(d.selected);d.items.splice(n,1),d.select(n),m.focusInput()}else d.reset(),m.blurInput();e=!0}return e},e.highlight=function(t,e){var n=h(t,e);return d.query&&f.highlightMatchedText&&(n=i(n,d.query,"<b>$&</b>")),l.trustAsHtml("<a>"+n+"</a>")},e.track=function(t,e){return h(t,e)},m.registerProcessBulk(function(t){console.log("autoCompleteProcessBulk:",t);var n=t.split(f.tagsInput.bulkDelimiter),i=function(t){return function(e){_.times(t,function(t){e[t]&&m.addTag(e[t])})}};return c.batch(function(){for(var t=0,a=n.length;a>t&&!(f.tagsInput.maxTags&&m.getTags().length>=f.tagsInput.maxTags);t++){var s=n[t],o=1,l=n[t].match(/(.*) ?\((\d+)\)$/);l&&(s=l[1],o=parseInt(l[2]));var u=e.source({$query:s});if(_.isArray(u)){if(u.length){if(!f.skipFiltering){var g=s;u=r("cnFilter")(u,g)}i(o)(u)}else if(!f.tagsInput.addFromAutocompleteOnly){var c={};c[f.tagsInput.displayProperty]=s,c[f.tagsInput.valueProperty]=s,m.addTag(c)}}else u.then&&u.then(i(o))}})}),m.on("input-change",function(t){t||!f.minLength?d.load(t,m.getTags()):d.reset()}).on("input-focus",function(t){d.visible||f.minLength||d.load(t,m.getTags())}).on("input-keydown",function(t){var n,i;if(-1!==y.indexOf(t.keyCode)){var a=!1;t.stopImmediatePropagation=function(){a=!0,t.stopPropagation()},t.isImmediatePropagationStopped=function(){return a},d.visible&&(n=t.keyCode,i=!1,n===o.down?(d.selectNext(),i=!0):n===o.up?(d.selectPrior(),i=!0):n===o.escape?(d.reset(),i=!0):n===o.enter&&(i=e.addSuggestion(t)),i&&(t.preventDefault(),t.stopImmediatePropagation(),e.$apply()))}}).on("input-blur",function(t){}),v=function(t){t.isDefaultPrevented()||d.visible&&(!$(t.target).closest(".suggestion").length&&$(t.target).closest(n[0]).length||"focusin"===t.type&&!/^(input|select|textarea|button|a)$/i.test(t.target.tagName)||(d.reset(),/apply|digest/.test(e.$root.$$phase)||e.$apply()))},t.on("click focusin",v),e.$on("$destroy",function(){t.off("click focusin",v)})}}}]),r.directive("tiTranscludeAppend",function(){return function(t,e,n,i,a){a(function(t){e.append(t)})}}),r.directive("tiAutosize",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,i){var a,s,o=3;a=angular.element('<span class="input"></span>'),a.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),e.parent().append(a),s=function(t){var i,s=t;return angular.isString(s)&&0===s.length&&(s=n.placeholder),s&&(a.text(s),a.css("display",""),i=a.prop("offsetWidth"),a.css("display","none")),e.css("width",i?i+o+"px":""),t},i.$parsers.unshift(s),i.$formatters.unshift(s),n.$observe("placeholder",function(t){i.$modelValue||s(t)})}}}),r.provider("tagsInputConfig",function(){var t={},e={};this.setDefaults=function(e,n){return t[e]=n,this},this.setActiveInterpolation=function(t,n){return e[t]=n,this},this.$get=["$interpolate",function(n){var i={};return i[String]=function(t){return t},i[Number]=function(t){return parseInt(t,10)},i[Boolean]=function(t){return"true"===t.toLowerCase()},i[RegExp]=function(t){return new RegExp(t)},i[Object]=function(t){return"object"==typeof t?t:Object(t)},{load:function(a,s,o,r){s.options={},s.attrs=o,s.uid=_.uniqueId(),angular.forEach(r,function(r,l){var u,g,c,p,d;u=r[0],g=r[1],c=i[u],p=function(){var e=t[a]&&t[a][l];return angular.isDefined(e)?e:g},d=function(t){s.options[l]=t?c(t):p()},s[l]?d(s[l]):e[a]&&e[a][l]?o.$observe(l,function(t){d(t)}):d(o[l]&&n(o[l])(s.$parent))})}}}]}),r.run(["$templateCache",function(t){t.put("cnTagsInput/tags-input.html",'        <ul class="list-group cn-autocomplete-list"             ng-if="options.tagsStyle === \'list\' && tagList.items.length && !options.hideTags">          <li class="list-group-item {{options.tagClass}}"               ng-repeat="tag in tagList.items"               ng-class="{ selected: tag == tagList.selected }">            <button ng-if="!ngDisabled"                     ng-click="tagList.remove($index)"                     type="button" class="close pull-right">              <span>&times;</span>            </button>            <span class="tag-item" ng-bind-html="getDisplayHtml(tag)"/>           </li>        </ul>        <div class="host clearfix"             ng-hide="showBulk"             ti-transclude-append="">          <!-- hack to avoid browser\'s autocomplete -->          <input class="offscreen"                  id="fake-{{attrs.id && attrs.id}}-input"                  name="fake-{{attrs.id && attrs.id}}-input">          <!-- end hack to avoid browser\'s autocomplete -->          <div class="input form-control tags"                ng-class="{focused: hasFocus}"                ng-disabled="ngDisabled">            <input class="input"                    ng-disabled="ngDisabled"                   id="{{attrs.inputId || attrs.id && attrs.id + \'-input-\' + uid}}"                   name="{{attrs.inputId || attrs.id && attrs.id + \'-input-\' + uid}}"                   placeholder="{{options.placeholder}}"                    tabindex="{{options.tabindex}}"                    ng-model="newTag.text"                    ng-model-options="{updateOn: \'default\'}"                    ng-change="newTagChange()"                    ng-trim="false"                    ng-class="{                      \'invalid-tag\': newTag.invalid,                      \'hide-below\': options.maxTags === 1 && tagList.items.length                   }"                    ti-autosize=""                   autocomplete="off">            <span class="tag-item label {{options.tagClass}} label-block"                  ng-if="options.tagsStyle !== \'list\' && !options.hideTags && options.maxTags === 1 && tagList.items.length"                  title="{{getDisplayText(tagList.items[0])}}">              <span ng-bind-html="getDisplayHtml(tagList.items[0])"/>               <a class="remove-button"                  ng-if="!ngDisabled && !options.dropdown"                 ng-click="tagList.remove()">                <span>&times;</span>              </a>            </span>            <ul class="tag-list"                 ng-if="options.tagsStyle !== \'list\' && !options.hideTags && options.maxTags !== 1">              <li class="tag-item label {{options.tagClass}}"                   ng-repeat="tag in tagList.items"                   ng-class="{ selected: tag == tagList.selected }">                <span ng-bind-html="getDisplayHtml(tag)"/>                 <a class="remove-button"                    ng-if="!ngDisabled"                   ng-click="tagList.remove($index)">                  <span>&times;</span>                </a>              </li>            </ul>            <button ng-if="options.showButton && options.dropdown"                    class="btn form-control-icon" ng-disabled="ngDisabled" tabindex="-1">              <i class="{{options.dropdownStyle}}"></i>            </button>          </div>        </div>        <p class="help-block" ng-show="options.allowBulk && !showBulk"><a ng-click="showBulk = true">Batch mode</a></p>        <div ng-show="showBulk" class="clearfix">          <textarea class="form-control" ng-model="bulkTags" placeholder="{{options.bulkPlaceholder}}"></textarea>          <p class="help-block">            Press "Enter" to submit, or return to <a ng-show="options.allowBulk" ng-click="showBulk = false">browse mode</a>          </p>        </div>'),t.put("cnTagsInput/auto-complete.html",'<div ng-if="!suggestionList.items.length && !options.groupBy"              ng-class="{open: suggestionList.visible}">          <ul class="autocomplete dropdown-menu">            <li class="dropdown-header">No items...</li>          </ul>        </div>        <div ng-if="suggestionList.items.length && isGroups"              ng-class="{open: suggestionList.visible}">          <ul class="autocomplete dropdown-menu">            <li ng-repeat-start="group in suggestionList.items"></li>            <li class="dropdown-header" ng-show="group.items.length">{{group.label | titleCase}}</li>            <li ng-repeat="item in group.items"                 class="suggestion"                 ng-class="{selected: item == suggestionList.selected, disabled: item.disabled}"                 ng-click="addSuggestion($event)"                 ng-mouseenter="suggestionList.select(group.indexes[$index])"                 ng-bind-html="highlight(item, group.label)">            </li>            <li class="divider" ng-show="!$last && $parent.suggestionList.items[$index+1].items.length"></li>            <li ng-repeat-end></li>          </ul>        </div>        <div ng-if="suggestionList.items.length && !isGroups && !options.groupBy"              ng-class="{open: suggestionList.visible}">          <ul class="autocomplete dropdown-menu">            <li ng-repeat="item in suggestionList.items"                 class="suggestion"                 ng-class="{selected: item == suggestionList.selected, disabled: item.disabled}"                 ng-click="addSuggestion($event)"                 ng-mouseenter="suggestionList.select($index)"                 ng-bind-html="highlight(item)">            </li>          </ul>        </div>        <div ng-if="!isGroups && options.groupBy"              ng-class="{open: suggestionList.visible}">          <ul class="autocomplete dropdown-menu">            <li ng-repeat-start="(group, items) in suggestionList.items"></li>            <li class="dropdown-header" ng-show="items.length">{{group | titleCase}}</li>            <li ng-repeat="item in items"                 class="suggestion"                 ng-class="{selected: item == suggestionList.selected, disabled: item.disabled}"                 ng-click="addSuggestion($event)"                 ng-mouseenter="suggestionList.select(suggestionList.items[group].indexes[$index])"                 ng-bind-html="highlight(item)">            </li>            <li class="divider" ng-show="!$last && items.length"></li>            <li ng-repeat-end></li>          </ul>        </div>')}])}();